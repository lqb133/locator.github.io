<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Locator Product Page - Group 4</title>
  <style>
    /* CSS Cũ giữ nguyên */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      perspective: 1000px; 
      /* Ẩn nội dung chính ban đầu */
      visibility: hidden; 
      opacity: 0;
    }
    /* ... (CSS cho body, header, container, product-card, product-media, product-info, btn-buy, secondary-media, footer giữ nguyên như phản hồi trước) ... */


    /* ======================================= */
    /* === CSS MỚI CHO ANIMATION TRÁI TIM === */
    /* ======================================= */
    #preloader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #2b7cff; /* Màu nền Preloader */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999; /* Đảm bảo nó luôn ở trên cùng */
        /* Animation fade out khi biến mất */
        transition: opacity 0.5s ease-out, visibility 0.5s; 
    }

    #preloader.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .heart-text {
        font-size: 40px;
        color: white;
        font-weight: bold;
        text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        /* Áp dụng animation bay hình trái tim */
        animation: heartFly 2s cubic-bezier(0.5, 0, 0.5, 1) forwards; 
        position: relative; /* Cần thiết cho transform */
    }

    /* Keyframes tạo đường bay hình trái tim */
    /* Công thức hình trái tim: x = 16sin^3(t), y = 13cos(t) - 5cos(2t) - 2cos(3t) - cos(4t) */
    /* Chúng ta sẽ dùng transform: translate() để mô phỏng đường bay 
       và scale/rotate để làm hiệu ứng thêm mượt mà */
    @keyframes heartFly {
        0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 1; }
        
        /* Điểm giữa - ở đỉnh trái/phải của tim */
        25% { transform: translate(-80px, -50px) scale(1.1) rotate(-15deg); opacity: 1; }
        50% { transform: translate(0, -100px) scale(1.2) rotate(0deg); opacity: 1; }
        75% { transform: translate(80px, -50px) scale(1.1) rotate(15deg); opacity: 1; }
        
        /* Điểm kết thúc - trở về giữa và bay lên/mờ đi */
        90% { transform: translate(0, 0) scale(1); opacity: 1; }
        100% { transform: translate(0, -200px) scale(0.5); opacity: 0; }
    }
    
    /* Cập nhật animation cho Main Content khi Preloader biến mất */
    body.loaded {
        visibility: visible;
        opacity: 1;
        transition: opacity 0.5s ease-in 0.5s; /* Trễ 0.5s sau khi preloader biến mất */
    }
    
    /* ... (Phần CSS cho body, header, product-card, etc. phải nằm ở đây) ... */
    
    /* Header và Product Card cần được sửa lại animation để xuất hiện sau preloader */
    header {
      /* ... CSS cũ ... */
      /* Xóa animation cũ */
      animation: none;
    }
    .product-card {
      /* ... CSS cũ ... */
      /* Xóa animation cũ */
      animation: none;
    }
    footer {
      /* ... CSS cũ ... */
      /* Xóa animation cũ */
      animation: none;
    }

    /* Các animation chỉ nên áp dụng khi body có class .loaded */
    body.loaded header {
        animation: slideInDown 0.6s ease-out 0.5s forwards; 
    }
    body.loaded .product-card {
        animation: fadeInZoom 0.8s ease-out 0.8s forwards; 
    }
    body.loaded footer {
        animation: slideInDown 0.6s ease-out 1.4s forwards;
    }
    
  </style>
</head>
<body>
    
  <div id="preloader">
    <div class="heart-text">Group 4</div>
  </div>
    
  <header>Product Locator</header>
  <div class="container">
    <div class="product-card">
      
      <div class="product-media">
        <img 
            src="https://cdn.discordapp.com/attachments/1367406363579383898/1444698275029717064/e1889d62-7a86-4e82-bd20-0fd65651d0c0.png?ex=692da79d&is=692c561d&hm=bf9f89b582622d9299c6fd452a38e6b9e96f3cd7e75f7acf3bf20fd9fb528dc8" 
            alt="Product secondary image" 
        />
      </div>
      
      <div class="product-info">
        <p><strong>Benefit:</strong> A locator device that helps prevent kidnapping and tracks real-time location.</p>
        <h2>Product Name:Locator</h2>
        <a class="btn-buy" href="page2.html">View Details</a>
      </div>
      
      <div class="secondary-media">
        <iframe 
            src="https://drive.google.com/file/d/1YdyrE1Hba0BwSHoTbEwxjut0w8TAyjB0/preview" 
            allow="autoplay" 
            allowfullscreen
        ></iframe>
      </div>
      </div>
  </div>
  <footer>&copy; 2025 - locator Product Website</footer>
  
  <script>
    // Đảm bảo script chạy sau khi DOM đã được tải
    document.addEventListener("DOMContentLoaded", function() {
        const preloader = document.getElementById('preloader');
        const body = document.body;
        const animationDuration = 2000; // 2 giây như yêu cầu

        setTimeout(function() {
            // 1. Ẩn Preloader bằng cách thêm class 'hidden'
            preloader.classList.add('hidden');
            
            // 2. Hiện nội dung chính bằng cách thêm class 'loaded' vào body
            body.classList.add('loaded');
            
            // Tùy chọn: Xóa hẳn Preloader khỏi DOM sau khi chuyển cảnh xong
            // để tránh xung đột z-index hoặc memory leak (khoảng 0.6s sau khi fade out)
            setTimeout(function() {
                 preloader.remove();
            }, 600); 

        }, animationDuration);
    });
  </script>
</body>
</html>
